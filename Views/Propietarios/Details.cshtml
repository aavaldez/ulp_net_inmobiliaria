@model ulp_net_inmobiliaria.Models.Propietario

@{
	ViewData["Title"] = "Detalles";
	var ltaInmuebles = (IList<Inmueble>)ViewBag.Inmuebles;
}

<div class="card">
	<div class="card-header">
		@if (User.IsInRole("Administrador"))
		{
			<a class="float-end ms-1 btn btn-sm btn btn-outline-danger" asp-controller="Propietarios" asp-action="Delete"
				asp-route-id="@Model.Id"><span><i class="fa-solid fa-trash fa-fw" title="Back"></i></span></a>
		}
		<a class="float-end ms-1 btn btn-sm btn btn-outline-primary" asp-controller="Propietarios" asp-action="Edit"
			asp-route-id="@Model.Id"><span><i class="fa-solid fa-pencil fa-fw" title="Back"></i></span></a>
		<h5>Detalles Propietario</h5>
	</div>
	<div class="card-body">
		<dl class="row">
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Nombre)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Nombre)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Apellido)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Apellido)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Dni)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Dni)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Telefono)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Telefono)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Email)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Email)
			</dd>
		</dl>
	</div>
	<h5 class="ps-3">Lista de Inmuebles del Propietario</h5>
	<div class="card-body">
		<table class="table">
			<thead>
				<tr>
					<th>
						Tipo
					</th>
					<th>
						Direcci√≥n
					</th>
					<th>
						Ambientes
					</th>
					<th>
						Superficie
					</th>
					<th>
						Latitud
					</th>
					<th>
						Longitud
					</th>
					<th>
						Valor
					</th>
				</tr>
			</thead>
			<tbody>
				@if(ltaInmuebles.Count > 0){
					foreach (var item in ltaInmuebles)
					{
						<tr>
							<td>
								@Html.DisplayFor(modelItem => item.TipoNombre)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Direccion)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Ambientes)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Superficie)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Latitud)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Longitud)
							</td>
							<td>
								$@Html.DisplayFor(modelItem => item.Valor)
							</td>
						</tr>
					}
				} else {
					<tr><td class="text-center" colspan="7">No hay Inmuebles para mostrar</td></tr>
				}
			</tbody>
		</table>
	</div>
	<div class="card-footer">
		<a asp-action="Index" class="float-end">Volver a la lista</a>
	</div>
</div>
